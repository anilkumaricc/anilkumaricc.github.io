<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ADCA Quiz 2026</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="preconnect" href="https://script.google.com">
<style>
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:linear-gradient(135deg,#e0f2fe,#f5f3ff);min-height:100vh;margin:0;display:grid;place-items:center}
  .card{background:#fff;border-radius:16px;box-shadow:0 10px 30px rgba(2,6,23,.08);padding:24px;max-width:520px;width:92%}
  h1{margin:0 0 6px;font-size:22px}
  p{margin:0 0 16px;color:#475569}
  .row{display:flex;gap:10px;align-items:center;margin-top:8px}
  input,button{padding:10px 12px;border:2px solid #e2e8f0;border-radius:10px;font-weight:700}
  button{background:linear-gradient(90deg,#2563eb,#1e40af);color:#fff;border:0;cursor:pointer}
  button:hover{transform:translateY(-1px)}
</style>
</head>
<body>
<div class="card">
  <h1>ðŸŽ“ ADCA Quiz 2026</h1>
  <p>Start your test â€” secure registration hosted on Google Apps Script.</p>

  <div id="pwBlock" class="row" style="display:none">
    <input id="pw" type="password" placeholder="Enter access password" autocomplete="off">
    <button id="go">Start</button>
  </div>

  <div id="noPw" class="row" style="display:none">
    <button id="go2">Start Quiz</button>
  </div>

  <p id="msg" style="margin-top:10px;color:#ef4444;font-weight:700;"></p>
</div>

<!-- load config -->
<script src="config.js"></script>
<script>
(function(){
  const cfg = (window.ADCA||{});
  const INDEX_URL = cfg.ENDPOINT.replace('/exec','') + '/dev?file=index'; 
  // â†‘ Apps Script à¤®à¥‡à¤‚ index.html publish à¤¹à¥‹à¤¤à¤¾ à¤¹à¥ˆ; web app URL à¤ªà¤° query à¤¸à¥‡ open à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚:
  // à¤…à¤—à¤° bound project "web app" à¤¹à¥ˆ à¤¤à¥‹ à¤¸à¥€à¤§à¤¾ ENDPOINT à¤ªà¤° index.html serve à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ doGet à¤Ÿà¥‡à¤®à¥à¤ªà¤²à¥‡à¤Ÿ à¤šà¤¾à¤¹à¤¿à¤à¥¤
  // à¤…à¤­à¥€ simple way: à¤¸à¥€à¤§à¥‡ ENDPOINT à¤ªà¤° redirect à¤•à¤° à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚; à¤†à¤ªà¤•à¤¾ index.html à¤µà¤¹à¥€à¤‚ default page à¤¹à¥ˆà¥¤

  const msg = document.getElementById('msg');
  const pwBlock = document.getElementById('pwBlock');
  const noPw   = document.getElementById('noPw');
  const go     = document.getElementById('go');
  const go2    = document.getElementById('go2');

  const needsPw = !!cfg.REQUIRE_PASSWORD;
  pwBlock.style.display = needsPw ? 'flex' : 'none';
  noPw.style.display    = needsPw ? 'none'  : 'flex';

  function proceed() {
    // redirect to Apps Script index.html (root ENDPOINT opens index by default in your setup)
    window.location.href = cfg.ENDPOINT; 
  }

  if (needsPw) {
    go.onclick = () => {
      const v = (document.getElementById('pw').value||'').trim();
      if (v === String(cfg.REGISTRATION_PASSWORD||'')) {
        sessionStorage.setItem('quizUnlocked','1');
        proceed();
      } else {
        msg.textContent = 'Incorrect password';
      }
    };
  } else {
    go2.onclick = proceed;
  }
})();
</script>
</body>
</html>
